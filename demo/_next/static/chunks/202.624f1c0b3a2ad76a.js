(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202],{4202:function(m,c,a){"use strict";a.r(c),a.d(c,{default:function(){return H}});var e,f=a(6729),b=a.n(f),n=(e=function(a,b){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}e(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),g=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return n(a,b),a}(b()),d=g,o=a(8155),h=a(1226),p=a.n(h);class i extends b(){constructor(a,b){var e,c,d;if(super(),e=this,this._handleMessage=a=>{if(this._injectedProvider&&a.source===window||a.origin===this._providerUrl.origin&&a.source===this._popup){if("connected"===a.data.method){let b=new o.nh(a.data.params.publicKey);this._publicKey&&this._publicKey.equals(b)||(this._publicKey&&!this._publicKey.equals(b)&&this._handleDisconnect(),this._publicKey=b,this._autoApprove=!!a.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===a.data.method)this._handleDisconnect();else if((a.data.result||a.data.error)&&this._responsePromises.has(a.data.id)){let[c,d]=this._responsePromises.get(a.data.id);a.data.result?c(a.data.result):d(Error(a.data.error))}}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider)?new Promise(a=>{this._sendRequest("connect",{}),a()}):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(a=>{this.once("connect",a)})),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([c,a],b)=>{this._responsePromises.delete(b),a("Wallet disconnected")})},this._sendRequest=async function(a,b){if("connect"!==a&&!e.connected)throw Error("Wallet not connected");let c=e._nextRequestId;return++e._nextRequestId,new Promise((d,f)=>{e._responsePromises.set(c,[d,f]),e._injectedProvider?e._injectedProvider.postMessage({jsonrpc:"2.0",id:c,method:a,params:{network:e._network,...b}}):(e._popup.postMessage({jsonrpc:"2.0",id:c,method:a,params:b},e._providerUrl.origin),e.autoApprove||e._popup.focus())})},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){e._injectedProvider&&await e._sendRequest("disconnect",{}),e._popup&&e._popup.close(),e._handleDisconnect()},this.sign=async function(a,c){if(!(a instanceof Uint8Array))throw Error("Data must be an instance of Uint8Array");let b=await e._sendRequest("sign",{data:a,display:c}),d=p().decode(b.signature),f=new o.nh(b.publicKey);return{signature:d,publicKey:f}},this.signTransaction=async function(a){let b=await e._sendRequest("signTransaction",{message:p().encode(a.serializeMessage())}),c=p().decode(b.signature),d=new o.nh(b.publicKey);return a.addSignature(d,c),a},this.signAllTransactions=async function(a){let b=await e._sendRequest("signAllTransactions",{messages:a.map(a=>p().encode(a.serializeMessage()))}),c=b.signatures.map(a=>p().decode(a)),d=new o.nh(b.publicKey);return a=a.map((a,b)=>(a.addSignature(d,c[b]),a))},q(c=a)&&r(c.postMessage))this._injectedProvider=a;else{if(d=a,"string"==typeof d)this._providerUrl=new URL(a),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:b}).toString();else throw Error("provider parameter must be an injected provider or a URL string.")}this._network=b,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}}function q(a){return"object"==typeof a&&null!==a}function r(a){return"function"==typeof a}var j,k,l,s=i,t=(j=function(a,b){return(j=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}j(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),u=function(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})},v=function(b,c){var d,e,f,a,g={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(a){return function(b){return i([a,b])}}function i(a){if(d)throw TypeError("Generator is already executing.");for(;g;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++,e=a[1],a=[0];continue;case 7:a=g.ops.pop(),g.trys.pop();continue;default:if(!(f=(f=g.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){g.label=a[1];break}if(6===a[0]&&g.label<f[1]){g.label=f[1],f=a;break}if(f&&g.label<f[2]){g.label=f[2],g.ops.push(a);break}f[2]&&g.ops.pop(),g.trys.pop();continue}a=c.call(b,g)}catch(h){a=[6,h],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},w=function(b){function a(e,c,d){var a=b.call(this)||this;return a._instance=null,a.handleMessage=function(a){},a._handleConnect=function(){a.emit("connect")},a._handleDisconnect=function(){window.clearInterval(a._pollTimer),a.emit("disconnect")},a._network=c,a._provider=d,a}return t(a,b),Object.defineProperty(a.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),a.prototype.connect=function(){return u(this,void 0,void 0,function(){var a=this;return v(this,function(b){switch(b.label){case 0:return this._instance=new s(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var b,c;(null===(c=null===(b=a._instance)|| void 0===b?void 0:b._popup)|| void 0===c?void 0:c.closed)!== !1&&a._handleDisconnect()},200),[4,this._instance.connect()];case 1:return b.sent(),[2]}})})},a.prototype.disconnect=function(){return u(this,void 0,void 0,function(){return v(this,function(a){switch(a.label){case 0:if(!this.connected)throw Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return a.sent(),[2]}})})},a.prototype.signTransaction=function(a){return u(this,void 0,void 0,function(){return v(this,function(b){switch(b.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._instance.signTransaction(a)];case 1:return[2,b.sent()]}})})},a.prototype.signAllTransactions=function(a){return u(this,void 0,void 0,function(){return v(this,function(b){switch(b.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._instance.signAllTransactions(a)];case 1:return[2,b.sent()]}})})},a.prototype.signMessage=function(b,a){return void 0===a&&(a="hex"),u(this,void 0,void 0,function(){var c;return v(this,function(d){switch(d.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._instance.sign(b,a)];case 1:return c=d.sent().signature,[2,Uint8Array.from(c)]}})})},a}(d),x=a(5934),y=(k=function(a,b){return(k=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}k(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),z=function(){return(z=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},A=function(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})},B=function(b,c){var d,e,f,a,g={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(a){return function(b){return i([a,b])}}function i(a){if(d)throw TypeError("Generator is already executing.");for(;g;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++,e=a[1],a=[0];continue;case 7:a=g.ops.pop(),g.trys.pop();continue;default:if(!(f=(f=g.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){g.label=a[1];break}if(6===a[0]&&g.label<f[1]){g.label=f[1],f=a;break}if(f&&g.label<f[2]){g.label=f[2],g.ops.push(a);break}f[2]&&g.ops.pop(),g.trys.pop();continue}a=c.call(b,g)}catch(h){a=[6,h],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},C=function(b){function a(e,c){var d,a=this;return(a=b.call(this)||this)._publicKey=null,a._messageHandlers={},a.handleMessage=function(b){if(a._messageHandlers[b.id]){var c=a._messageHandlers[b.id],d=c.resolve,e=c.reject;delete a._messageHandlers[b.id],b.error?e(b.error):d(b.result)}},a._sendMessage=function(b){if(!a.connected)throw Error("Wallet not connected");return new Promise(function(f,g){var c,d,e=(0,x.Z)();a._messageHandlers[e]={resolve:f,reject:g},null===(d=null===(c=a._iframe)|| void 0===c?void 0:c.contentWindow)|| void 0===d||d.postMessage({channel:"solflareWalletAdapterToIframe",data:z({id:e},b)},"*")})},a._iframe=e,a._publicKey=new o.nh(null===(d=null==c?void 0:c.toString)|| void 0===d?void 0:d.call(c)),a}return y(a,b),Object.defineProperty(a.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.connect=function(){return A(this,void 0,void 0,function(){return B(this,function(a){return[2]})})},a.prototype.disconnect=function(){return A(this,void 0,void 0,function(){return B(this,function(a){switch(a.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return a.sent(),[2]}})})},a.prototype.signTransaction=function(a){return A(this,void 0,void 0,function(){var b,c,d,e;return B(this,function(f){switch(f.label){case 0:if(!this.connected)throw Error("Wallet not connected");f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:p().encode(a.serializeMessage())}})];case 2:return c=(b=f.sent()).publicKey,d=b.signature,a.addSignature(new o.nh(c),p().decode(d)),[2,a];case 3:throw e=f.sent(),console.log(e),Error("Failed to sign transaction");case 4:return[2]}})})},a.prototype.signAllTransactions=function(a){return A(this,void 0,void 0,function(){var b,c,d,e;return B(this,function(f){switch(f.label){case 0:if(!this.connected)throw Error("Wallet not connected");f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:a.map(function(a){return p().encode(a.serializeMessage())})}})];case 2:return c=(b=f.sent()).publicKey,d=b.signatures,[2,a.map(function(a,b){return a.addSignature(new o.nh(c),p().decode(d[b])),a})];case 3:throw e=f.sent(),console.log(e),Error("Failed to sign transactions");case 4:return[2]}})})},a.prototype.signMessage=function(b,a){return void 0===a&&(a="hex"),A(this,void 0,void 0,function(){var c,d;return B(this,function(e){switch(e.label){case 0:if(!this.connected)throw Error("Wallet not connected");e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:b,display:a}})];case 2:return c=e.sent(),[2,Uint8Array.from(p().decode(c))];case 3:throw d=e.sent(),console.log(d),Error("Failed to sign message");case 4:return[2]}})})},a}(d),D=(l=function(a,b){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}l(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),E=function(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})},F=function(b,c){var d,e,f,a,g={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(a){return function(b){return i([a,b])}}function i(a){if(d)throw TypeError("Generator is already executing.");for(;g;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++,e=a[1],a=[0];continue;case 7:a=g.ops.pop(),g.trys.pop();continue;default:if(!(f=(f=g.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){g.label=a[1];break}if(6===a[0]&&g.label<f[1]){g.label=f[1],f=a;break}if(f&&g.label<f[2]){g.label=f[2],g.ops.push(a);break}f[2]&&g.ops.pop(),g.trys.pop();continue}a=c.call(b,g)}catch(h){a=[6,h],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},G=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},H=function(b){function a(d){var c=b.call(this)||this;return c._network="mainnet-beta",c._provider=null,c._adapterInstance=null,c._element=null,c._iframe=null,c._connectHandler=null,c._flutterHandlerInterval=null,c._handleEvent=function(a){var b,d,e;switch(a.type){case"connect_native_web":c._collapseIframe(),c._adapterInstance=new w(c._iframe,c._network,(null===(b=a.data)|| void 0===b?void 0:b.provider)||c._provider||"https://solflare.com/provider"),c._adapterInstance.on("connect",c._webConnected),c._adapterInstance.on("disconnect",c._webDisconnected),c._adapterInstance.connect(),c._setPreferredAdapter("native_web");return;case"connect":c._collapseIframe(),c._adapterInstance=new C(c._iframe,(null===(d=a.data)|| void 0===d?void 0:d.publicKey)||""),c._adapterInstance.connect(),c._setPreferredAdapter(null===(e=a.data)|| void 0===e?void 0:e.adapter),c._connectHandler&&(c._connectHandler.resolve(),c._connectHandler=null),c.emit("connect",c.publicKey);return;case"disconnect":c._connectHandler&&(c._connectHandler.reject(),c._connectHandler=null),c._disconnected(),c.emit("disconnect");return;case"collapse":c._collapseIframe();return;default:return}},c._handleMessage=function(b){if((null===(d=b.data)|| void 0===d?void 0:d.channel)==="solflareIframeToWalletAdapter"){var d,a=b.data.data||{};"event"===a.type?c._handleEvent(a.event):c._adapterInstance&&c._adapterInstance.handleMessage(a)}},c._removeElement=function(){null!==c._flutterHandlerInterval&&(clearInterval(c._flutterHandlerInterval),c._flutterHandlerInterval=null),c._element&&(c._element.remove(),c._element=null)},c._removeDanglingElements=function(){var c,d,f=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var b=G(f),a=b.next();!a.done;a=b.next()){var e=a.value;e.parentElement&&e.remove()}}catch(g){c={error:g}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c._injectElement=function(){c._removeElement(),c._removeDanglingElements();var b="".concat(a.IFRAME_URL,"?cluster=").concat(encodeURIComponent(c._network),"&origin=").concat(encodeURIComponent(window.location.origin)),d=c._getPreferredAdapter();d&&(b+="&adapter=".concat(encodeURIComponent(d))),c._element=document.createElement("div"),c._element.className="solflare-wallet-adapter-iframe",c._element.innerHTML="\n      <iframe src='".concat(b,"' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>\n    "),document.body.appendChild(c._element),c._iframe=c._element.querySelector("iframe"),window.fromFlutter=c._handleMobileMessage,c._flutterHandlerInterval=setInterval(function(){window.fromFlutter=c._handleMobileMessage},100),window.addEventListener("message",c._handleMessage,!1)},c._collapseIframe=function(){c._iframe&&(c._iframe.style.top="",c._iframe.style.right="",c._iframe.style.height="2px",c._iframe.style.width="2px")},c._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},c._setPreferredAdapter=function(a){localStorage&&a&&localStorage.setItem("solflarePreferredWalletAdapter",a)},c._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},c._webConnected=function(){c._connectHandler&&(c._connectHandler.resolve(),c._connectHandler=null),c.emit("connect",c.publicKey)},c._webDisconnected=function(){c._connectHandler&&(c._connectHandler.reject(),c._connectHandler=null),c._disconnected(),c.emit("disconnect")},c._disconnected=function(){window.removeEventListener("message",c._handleMessage,!1),c._removeElement(),c._clearPreferredAdapter(),c._adapterInstance=null},c._handleMobileMessage=function(d){var a,b;null===(b=null===(a=c._iframe)|| void 0===a?void 0:a.contentWindow)|| void 0===b||b.postMessage({channel:"solflareMobileToIframe",data:d},"*")},(null==d?void 0:d.network)&&(c._network=null==d?void 0:d.network),(null==d?void 0:d.provider)&&(c._provider=null==d?void 0:d.provider),c}return D(a,b),Object.defineProperty(a.prototype,"publicKey",{get:function(){var a;return(null===(a=this._adapterInstance)|| void 0===a?void 0:a.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isConnected",{get:function(){var a;return!!(null===(a=this._adapterInstance)|| void 0===a?void 0:a.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.connect=function(){return E(this,void 0,void 0,function(){var a=this;return F(this,function(b){switch(b.label){case 0:if(this.connected)return[2];return this._injectElement(),[4,new Promise(function(b,c){a._connectHandler={resolve:b,reject:c}})];case 1:return b.sent(),[2]}})})},a.prototype.disconnect=function(){return E(this,void 0,void 0,function(){return F(this,function(a){switch(a.label){case 0:if(!this._adapterInstance)return[2];return[4,this._adapterInstance.disconnect()];case 1:return a.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},a.prototype.signTransaction=function(a){return E(this,void 0,void 0,function(){return F(this,function(b){switch(b.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(a)];case 1:return[2,b.sent()]}})})},a.prototype.signAllTransactions=function(a){return E(this,void 0,void 0,function(){return F(this,function(b){switch(b.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(a)];case 1:return[2,b.sent()]}})})},a.prototype.signMessage=function(b,a){return void 0===a&&(a="utf8"),E(this,void 0,void 0,function(){return F(this,function(c){switch(c.label){case 0:if(!this.connected)throw Error("Wallet not connected");return[4,this._adapterInstance.signMessage(b,a)];case 1:return[2,c.sent()]}})})},a.prototype.sign=function(b,a){return void 0===a&&(a="utf8"),E(this,void 0,void 0,function(){return F(this,function(c){switch(c.label){case 0:return[4,this.signMessage(b,a)];case 1:return[2,c.sent()]}})})},a.prototype.detectWallet=function(b){return void 0===b&&(b=10),E(this,void 0,void 0,function(){return F(this,function(c){return[2,new Promise(function(e){var c=null;function f(a){h(),e(a)}var g=setTimeout(function(){f(!1)},1e3*b);function h(){window.removeEventListener("message",d,!1),c&&(document.body.removeChild(c),c=null),g&&(clearTimeout(g),g=null)}function d(d){var a,b,c;(null===(a=d.data)|| void 0===a?void 0:a.channel)==="solflareDetectorToAdapter"&&f(!!(null===(c=null===(b=d.data)|| void 0===b?void 0:b.data)|| void 0===c?void 0:c.detected))}window.addEventListener("message",d,!1),(c=document.createElement("div")).className="solflare-wallet-detect-iframe",c.innerHTML="\n        <iframe src='".concat(a.DETECT_IFRAME_URL,"?timeout=").concat(b,"' style='position: fixed; top: -9999px; left: -9999px; width: 0; height: 0; pointer-events: none; border: none;'></iframe>\n      "),document.body.appendChild(c)})]})})},a.IFRAME_URL="https://connect.solflare.com/",a.DETECT_IFRAME_URL="https://connect.solflare.com/detect",a}(b())},2620:function(a,c,b){"use strict";var d=b(9509).Buffer;a.exports=function(a){if(a.length>=255)throw TypeError("Alphabet too long");for(var b=new Uint8Array(256),e=0;e<b.length;e++)b[e]=255;for(var c=0;c<a.length;c++){var f=a.charAt(c),g=f.charCodeAt(0);if(255!==b[g])throw TypeError(f+" is ambiguous");b[g]=c}var h=a.length,j=a.charAt(0),k=Math.log(h)/Math.log(256),l=Math.log(256)/Math.log(h);function i(c){if("string"!=typeof c)throw TypeError("Expected String");if(0===c.length)return d.alloc(0);for(var e=0,i=0,n=0;c[e]===j;)i++,e++;for(var f=(c.length-e)*k+1>>>0,l=new Uint8Array(f);c[e];){var a=b[c.charCodeAt(e)];if(255===a)return;for(var o=0,m=f-1;(0!==a||o<n)&& -1!==m;m--,o++)a+=h*l[m]>>>0,l[m]=a%256>>>0,a=a/256>>>0;if(0!==a)throw Error("Non-zero carry");n=o,e++}for(var g=f-n;g!==f&&0===l[g];)g++;var p=d.allocUnsafe(i+(f-g));p.fill(0,0,i);for(var q=i;g!==f;)p[q++]=l[g++];return p}return{encode:function(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=d.from(b)),!d.isBuffer(b))throw TypeError("Expected Buffer");if(0===b.length)return"";for(var p=0,m=0,c=0,n=b.length;c!==n&&0===b[c];)c++,p++;for(var g=(n-c)*l+1>>>0,i=new Uint8Array(g);c!==n;){for(var e=b[c],o=0,k=g-1;(0!==e||o<m)&& -1!==k;k--,o++)e+=256*i[k]>>>0,i[k]=e%h>>>0,e=e/h>>>0;if(0!==e)throw Error("Non-zero carry");m=o,c++}for(var f=g-m;f!==g&&0===i[f];)f++;for(var q=j.repeat(p);f<g;++f)q+=a.charAt(i[f]);return q},decodeUnsafe:i,decode:function(b){var a=i(b);if(a)return a;throw Error("Non-base"+h+" character")}}}},1226:function(a,d,b){var c=b(2620);a.exports=c("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}])